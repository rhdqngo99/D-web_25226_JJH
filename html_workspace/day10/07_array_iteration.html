<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>
        배열의 순환할 수 있는 구조를 이용하여 특정 기능을 수행하는 메서드
    </h1>
    <ul>
        <li>
            array.forEach(callback function) : 일반 반복문과 유사한 형태
        </li>
        <li>
            array.map(callback function) : 
            forEach의 결과를 리턴해서 새로운 배열을 생성
        </li>
        <li>
            array.filter(callback function) : 
            map 처럼 수행하면서 비교연산을 통해 true 값만 필터링하여 리턴
        </li>
    </ul>
    <script>
        const numArr = [3,5,1,4,2,6,7,8];
        const strArr = ['a','c','h','l','t','r'];
        console.log("---forEach(value, index, array)--");
        numArr.forEach(function(v, i, a){
            console.log(v, i, a);
        });
        console.log("---forEach(value, index)---");
        let sum = 0;
        numArr.forEach(function(v, i){
            console.log(i, v);
            sum += v;
            console.log(sum);
        });
        console.log(sum);

        console.log("---strArr----");
        strArr.forEach(function(v, i){
            console.log(i, v);
        });

        strArr.forEach(function(v){
            console.log(v);
        })

        function printNumber(v, i, a){
            console.log(v, i, a);
        }
        console.log("--invoke callback function--");
        // invoke 경우 () 쓰지 않음.
        numArr.forEach(printNumber);
        strArr.forEach(printNumber);

        // 화살표 익명 함수
        strArr.forEach((v,i)=>{
            console.log(i, v);
        });

        console.log('---map---');
        const newNumArr = numArr.map(function(v, i, a){
            return `${v}, ${i}, ${a}`;
        });
        console.log(newNumArr);

        const newStrArr = strArr.map(function(v,i){
            return `${i}, ${v}`;
        })
        console.log(newStrArr);

        const newStrArr2 = strArr.forEach(function(v,i){
            return `${i}, ${v}`;
        });
        console.log(newStrArr2); // undefined

        console.log('---filter---');
        const newNumArr2 = numArr.filter(function(v){
            return v > 5;
        });
        console.log(newNumArr2);

        // map을 이용하여 numArr *2 한 값으로 배열을 리턴 => 출력
        const map2 = numArr.map(function(v){
            return v*2;
        });
        console.log(map2);
        // 화살표 함수에서 파라미터가 1개면 () 생략가능.
        // 함수 처리구문이 하나면 {return } 생략가능.
        const map3 = numArr.map( v => v*2 );
        console.log(map3);

        const mmm = (arr) => {
            const map4 = [];
            for(let i of arr){
                map4.push(i*2);
            }
            return map4;
        }
        const mmm2 = mmm(numArr);
        console.log(mmm2);

        //filter를 이용하여 numArr에 짝수만 출력
        const even = numArr.filter(v => v % 2 == 0);
        console.log(even);
        numArr.filter(v=>v%2==0).forEach(n=> console.log(n));

    </script>
</body>
</html>