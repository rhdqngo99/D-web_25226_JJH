<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>
    <style>
        body {
            background: linear-gradient(rgba(0, 0, 0, 0.548), rgba(0, 0, 0, 0.511)), url(../image/image.png);
        }

        * {
            padding: 0%;
            margin: 0%;
        }

        form {
            width: 340px;
            margin: 0 auto;
            transform: translate(1%, 30%);
            padding: 20px;
            border: 1px solid white;
            border-radius: 5px;
            background-color: hsla(221, 79%, 13%, 0.363);
            background-image: none;
        }

        .login-image {
            width: 350px;
            height: 80px;
            display: block;
            margin: 0 auto;
            margin-bottom: 20px;
            border-radius: 10px;
        }

        legend {
            font-size: 16px;
            font-weight: bold;
            padding-left: 5px;
            padding-bottom: 10px;
            color: white;
        }

        #loginbox label {
            float: left;
            width: 120px;
            font-size: 15px;
            margin-left: 20px;
            color: white;
        }

        li {
            list-style-type: none;
            margin-bottom: 5px;
        }

        fieldset {
            border: 1px solid #ccc;
            margin-bottom: 30px;
            padding: 10px;
            outline: none;
            border-radius: 10px;
        }

        #join {
            border: none;
            margin-top: 20px;
        }

        #joinbox {
            text-align: center;
            border: none;
            padding: 10px;
        }

        #joinbox button {
            font-size: 15px;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid black;
        }

        #joinbox button:hover {
            background-color: white;
        }

        #mailbox label {
            font-size: 12px;
            margin-left: 20px;
            color: white;
        }

        #mailbox input {
            vertical-align: middle;
        }
        select{
            width: 173px;
        }
    </style>
</head>

<body>
    <form id="login">

        <img src="../image/LiveStage-2.jpg" class="login-image">
        <!-- <img src="../image/LiveStage-3.jpg" class="login-image"> -->

        <fieldset id="loginbox">
            <legend>회원가입</legend>
            <ul>
                <li>
                    <label for="user-id">아이디</label>
                    <input id="user-id" type="text" placeholder="공백없이 2자 이상" autofocus required>
                </li>
                <li>
                    <label for="user-pw">비밀번호</label>
                    <input id="user-pw" type="password" placeholder="특수기호 포함 6자 이상" autocomplete="off" required>
                </li>
                <li>
                    <label for="user-pws">비밀번호확인</label>
                    <input id="user-pws" type="password" autocomplete="off" required>
                </li>
                <li>
                    <label for="user-email">이메일</label>
                    <input id="user-email" type="email" placeholder="abc@naver.com" autocomplete="off" required>
                </li>
                <li>
                    <label for="user-tel">전화번호</label>
                    <input id="user-tel" type="tel" placeholder="예) 01012345678">
                </li>
                <li>
                    <label for="localSelect">지역</label>
                    <select id="localSelect" name="localSelect">
                        <option value="">지역 선택</option>
                        <option value="11">서울특별시</option>
                        <option value="26">부산광역시</option>
                        <option value="27">대구광역시</option>
                        <option value="28">인천광역시</option>
                        <option value="29">광주광역시</option>
                        <option value="30">대전광역시</option>
                        <option value="31">울산광역시</option>
                        <option value="36">세종특별자치시</option>
                        <option value="41">경기도</option>
                        <option value="43">충청북도</option>
                        <option value="44">충청남도</option>
                        <option value="45">전라북도</option>
                        <option value="46">전라남도</option>
                        <option value="47">경상북도</option>
                        <option value="48">경상남도</option>
                        <option value="50">제주특별자치도</option>
                        <option value="51">강원특별자치도</option>
                      </select>
                </li>
            </ul>
        </fieldset>

        <fieldset id="mailbox">
            <legend>광고성 메일 수신여부</legend>
            <label for="maily">메일수신</label>
            <input id="maily" type="radio" name="mail" value="y">
            <label for="mailn">메일수신 안함</label>
            <input id="mailn" type="radio" name="mail" value="n" checked>
        </fieldset>

        <fieldset id="joinbox">
            <button type="button" disabled onclick="toMain()">가입하기</button>
        </fieldset>
    </form>

    <script>
        const inputs = document.querySelectorAll('#loginbox input');
        const submitBtn = document.querySelector('#joinbox button');

        function validate() {
            const id = inputs[0].value,
                pw = inputs[1].value,
                pwcheck = inputs[2].value,
                email = inputs[3].value,
                phone = inputs[4].value;

            if (id.length < 2) return false;
            if (id.includes(' ')) return false;

            if (pw.lenght < 6) return false;
            if (!/[!@#$%^&*]/.test(pw)) return false;

            if (pw != pwcheck) return false;

            if (!/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i.test(email)) return false;

            if (!/^01([0|1|6|7|8|9])([0-9]{3,4})([0-9]{4})$/.test(phone)) return false;

            if (document.getElementById('localSelect').value == '') return false;

            return true;
        }

        document.addEventListener('change', () => {
            submitBtn.disabled = !validate();
        });

        function toMain() {
            alert('지원하지 않는 기능입니다. 메인으로 돌아갑니다.');
            location.href = 'http://127.0.0.1:5500/html/mainPage.html';
        }
    </script>
</body>

</html>